# Bun 全局配置
# https://bun.sh/docs/runtime/bunfig

[install]
# 使用硬链接而不是符号链接（减少文件监听警告）
linkNativeModules = false
# 完全提升所有依赖到根 node_modules
hoisting = true
# 不在子包中创建 node_modules
flattenWorkspace = true
# 不创建符号链接
symlink = false
# 自动安装 peer dependencies
auto = "auto"
# 使用更快的安装策略
strategy = "hardlink"
# 冻结 lockfile（CI 环境）
# frozen-lockfile = true

[install.cache]
# 启用缓存
dir = ".bun-cache"
# 缓存过期时间（秒）
ttl = 604800

[run]
# 禁用对 node_modules 的监听
watchExclude = [
  "node_modules/**",
  "dist/**",
  ".git/**",
  ".turbo/**",
  "**/*.log",
  ".bun-cache/**",
  "coverage/**"
]

# 只监听源代码目录
watchInclude = [
  "src/**",
  "packages/*/src/**",
  "apps/*/src/**"
]

# 启用 Bun 的快速刷新
hot = true

[test]
# 测试配置
coverage = true

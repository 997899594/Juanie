# ============================================
# Secret
# ============================================
apiVersion: v1
kind: Secret
metadata:
  name: juanie-secret
  namespace: juanie
type: Opaque
stringData:
  # Database
  POSTGRES_USER: "juanie"
  POSTGRES_PASSWORD: "CHANGE_ME_PASSWORD"
  DATABASE_URL: "postgresql://juanie:CHANGE_ME_PASSWORD@postgres:5432/juanie"

  # NextAuth
  NEXTAUTH_SECRET: "CHANGE_ME_GENERATE_RANDOM_STRING_MIN_32_CHARS"
  NEXTAUTH_URL: "https://juanie.art"

  # OAuth
  GITHUB_CLIENT_ID: "CHANGE_ME_GITHUB_CLIENT_ID"
  GITHUB_CLIENT_SECRET: "CHANGE_ME_GITHUB_CLIENT_SECRET"
  GITLAB_CLIENT_ID: ""
  GITLAB_CLIENT_SECRET: ""

  # Redis
  REDIS_HOST: "redis"
  REDIS_PORT: "6379"
  REDIS_PASSWORD: ""

  # Sentry (optional)
  SENTRY_DSN: ""
  SENTRY_TRACES_SAMPLE_RATE: "0.1"

  # Loki (optional)
  LOKI_URL: "http://loki:3100"
  LOKI_USERNAME: ""
  LOKI_PASSWORD: ""

  # Kubernetes (for in-cluster K8s API access)
  KUBECONFIG_CONTENT: ""
---
# ============================================
# K8s Config Secret (for managing user clusters)
# ============================================
apiVersion: v1
kind: Secret
metadata:
  name: juanie-kubeconfigs
  namespace: juanie
type: Opaque
# 注意: 实际使用时需要添加用户集群的 kubeconfig
# data:
#   cluster-1: <base64-encoded-kubeconfig>
#   cluster-2: <base64-encoded-kubeconfig>

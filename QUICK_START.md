# å¿«é€Ÿå¯åŠ¨æŒ‡å—ï¼ˆå·²ä¿®å¤æ„å»ºå¡æ­»é—®é¢˜ï¼‰

## ğŸ¯ æ ¸å¿ƒæ”¹å˜

**ä¸å†æ„å»º UI åŒ…ï¼** Vite ä¼šç›´æ¥å¤„ç† UI åŒ…çš„æºç ã€‚

## ğŸš€ å¯åŠ¨æ­¥éª¤

### 1. æ¸…ç†æ—§çš„æ„å»ºäº§ç‰©å’Œè¿›ç¨‹

```bash
# è¿è¡Œä¿®å¤è„šæœ¬
bun run fix:vite
```

### 2. ç›´æ¥å¯åŠ¨ Web åº”ç”¨

```bash
# ä¸éœ€è¦å…ˆæ„å»º UI åŒ…ï¼
bun run dev:web
```

å°±è¿™ä¹ˆç®€å•ï¼Vite ä¼šè‡ªåŠ¨å¤„ç† `packages/ui` çš„æºç ã€‚

## ğŸ“‹ å®Œæ•´æµç¨‹

```bash
# 1. æ¸…ç†ï¼ˆå¦‚æœä¹‹å‰å¡æ­»è¿‡ï¼‰
bun run fix:vite

# 2. å¯åŠ¨ Web åº”ç”¨
cd apps/web
bun run dev

# æˆ–è€…ä»æ ¹ç›®å½•
bun run dev:web
```

## âœ… ä¼˜ç‚¹

- âš¡ **æå¿«å¯åŠ¨**ï¼šä¸éœ€è¦æ„å»º UI åŒ…
- ğŸ”¥ **çƒ­æ›´æ–°**ï¼šä¿®æ”¹ UI ç»„ä»¶ç«‹å³ç”Ÿæ•ˆ
- ğŸ¨ **æ˜“äºå®šåˆ¶**ï¼šç›´æ¥ä¿®æ”¹ shadcn ç»„ä»¶æºç 
- ğŸ› **æ˜“äºè°ƒè¯•**ï¼šç›´æ¥è°ƒè¯•æºç ï¼Œä¸æ˜¯æ„å»ºäº§ç‰©

## ğŸ”§ å¦‚æœè¿˜æ˜¯å¡æ­»

### æ–¹æ¡ˆ 1ï¼šæ¸…ç†å¹¶é‡è¯•

```bash
bun run clean:stuck
bun run dev:web
```

### æ–¹æ¡ˆ 2ï¼šå®Œå…¨é‡ç½®

```bash
# 1. æ€æ­»æ‰€æœ‰è¿›ç¨‹
pkill -9 -f "vite|esbuild|node"

# 2. æ¸…ç†æ‰€æœ‰ç¼“å­˜
rm -rf node_modules/.vite
rm -rf apps/web/node_modules/.vite
rm -rf packages/ui/dist

# 3. é‡æ–°å¯åŠ¨
bun run dev:web
```

### æ–¹æ¡ˆ 3ï¼šä½¿ç”¨è½®è¯¢æ¨¡å¼

å¦‚æœæ–‡ä»¶ç›‘å¬æœ‰é—®é¢˜ï¼Œç¼–è¾‘ `apps/web/vite.config.ts`ï¼š

```typescript
server: {
  watch: {
    usePolling: true,  // æ”¹ä¸º true
    interval: 1000,
  },
}
```

## ğŸ“š æ¶æ„è¯´æ˜

```
packages/ui/
  src/components/ui/  â† shadcn ç»„ä»¶æºç 
  (ä¸éœ€è¦æ„å»ºï¼)

apps/web/
  â†“ ç›´æ¥å¯¼å…¥
  import { Button } from '@juanie/ui'
  â†“ Vite è‡ªåŠ¨å¤„ç†
  (é¢„æ„å»º + HMR)
```

## ğŸ“ å…³é”®ç†è§£

1. **shadcn-vue ä¸æ˜¯ npm åŒ…**ï¼Œæ˜¯æºç 
2. **ä¸éœ€è¦æ„å»º**ï¼ŒVite ä¼šå¤„ç†
3. **ä¿®æ”¹å³ç”Ÿæ•ˆ**ï¼Œæœ‰ HMR
4. **397 ä¸ªæ–‡ä»¶**ä¸æ˜¯é—®é¢˜ï¼ŒVite åªå¤„ç†ç”¨åˆ°çš„

## ğŸ’¡ æ—¥å¸¸å¼€å‘

```bash
# å¯åŠ¨å¼€å‘
bun run dev:web

# ä¿®æ”¹ UI ç»„ä»¶
# ç›´æ¥ç¼–è¾‘ packages/ui/src/components/ui/xxx

# ä¿å­˜åè‡ªåŠ¨çƒ­æ›´æ–°
# ä¸éœ€è¦é‡æ–°æ„å»ºï¼
```

## ğŸš« ä¸è¦åšçš„äº‹

- âŒ ä¸è¦è¿è¡Œ `bun run ui:build`
- âŒ ä¸è¦å°è¯•æ„å»º UI åŒ…
- âŒ ä¸è¦æ‹…å¿ƒ `packages/ui/dist` ä¸å­˜åœ¨
- âŒ ä¸è¦åœ¨ turbo.json ä¸­ä¾èµ– UI æ„å»º

## âœ… è¦åšçš„äº‹

- âœ… ç›´æ¥å¯åŠ¨ Web åº”ç”¨
- âœ… ç›´æ¥ä¿®æ”¹ UI ç»„ä»¶æºç 
- âœ… äº«å—å¿«é€Ÿçš„å¼€å‘ä½“éªŒ
- âœ… éœ€è¦æ–°ç»„ä»¶æ—¶ç”¨ `shadcn-vue add`

## ğŸ“– ç›¸å…³æ–‡æ¡£

- `docs/SHADCN_BEST_PRACTICE.md` - shadcn-vue æœ€ä½³å®è·µ
- `docs/VITE_FREEZE_SOLUTION.md` - Vite å¡æ­»è§£å†³æ–¹æ¡ˆ
- `docs/UI_BUILD_FREEZE_SOLUTION.md` - UI æ„å»ºå¡æ­»è¯¦è§£

## ğŸ‰ ç°åœ¨å¼€å§‹

```bash
bun run dev:web
```

æ‰“å¼€ http://localhost:1997 å¼€å§‹å¼€å‘ï¼

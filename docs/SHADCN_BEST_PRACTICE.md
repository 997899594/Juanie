# shadcn-vue æœ€ä½³å®è·µæŒ‡å—

## å½“å‰é—®é¢˜

ä½ æŠŠæ‰€æœ‰ shadcn-vue ç»„ä»¶ï¼ˆ397ä¸ªæ–‡ä»¶ï¼‰æ”¾åœ¨ `packages/ui` å¹¶å°è¯•æ„å»ºæˆ npm åŒ…ã€‚

**è¿™ä¸æ˜¯ shadcn-vue çš„è®¾è®¡ç†å¿µï¼**

## shadcn-vue çš„æ ¸å¿ƒæ€æƒ³

> "Copy the code into your project and customize it to your needs. The code is yours."

shadcn-vue ä¸æ˜¯ä¸€ä¸ªç»„ä»¶åº“ï¼Œè€Œæ˜¯ï¼š
- âœ… å¯å¤åˆ¶ç²˜è´´çš„ç»„ä»¶ä»£ç 
- âœ… å®Œå…¨å¯å®šåˆ¶
- âœ… ä¸éœ€è¦æ‰“åŒ…
- âŒ ä¸æ˜¯ npm åŒ…

## ä¸ºä»€ä¹ˆä¸åº”è¯¥æ‰“åŒ… shadcn ç»„ä»¶ï¼Ÿ

1. **æ„å»ºæ…¢**ï¼š397 ä¸ªæ–‡ä»¶éœ€è¦ç¼–è¯‘
2. **ç±»å‹æ£€æŸ¥æ…¢**ï¼šæ¯ä¸ªç»„ä»¶éƒ½è¦ç±»å‹æ£€æŸ¥
3. **å¤±å»çµæ´»æ€§**ï¼šæ‰“åŒ…åéš¾ä»¥å®šåˆ¶
4. **è¿èƒŒè®¾è®¡**ï¼šshadcn å°±æ˜¯è¦ä½ ç›´æ¥ä¿®æ”¹æºç 
5. **ç»´æŠ¤å›°éš¾**ï¼šæ›´æ–°ç»„ä»¶éœ€è¦é‡æ–°æ„å»º

## æ­£ç¡®çš„ä½¿ç”¨æ–¹å¼

### æ–¹æ¡ˆ Aï¼šå•åº”ç”¨ï¼ˆæ¨èï¼‰

å¦‚æœåªæœ‰ä¸€ä¸ªå‰ç«¯åº”ç”¨ï¼š

```bash
# åœ¨åº”ç”¨ç›®å½•ä¸­åˆå§‹åŒ–
cd apps/web
npx shadcn-vue@latest init

# æŒ‰éœ€æ·»åŠ ç»„ä»¶
npx shadcn-vue@latest add button
npx shadcn-vue@latest add dialog
```

ç»„ä»¶ä¼šæ”¾åœ¨ `apps/web/src/components/ui/`ï¼Œç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€æ„å»ºã€‚

**ä¼˜ç‚¹ï¼š**
- âš¡ æå¿«çš„å¼€å‘ä½“éªŒ
- ğŸ¨ å®Œå…¨å¯å®šåˆ¶
- ğŸ”§ æ˜“äºè°ƒè¯•
- ğŸ“¦ æ— éœ€æ„å»º

### æ–¹æ¡ˆ Bï¼šå¤šåº”ç”¨å…±äº«

å¦‚æœæœ‰å¤šä¸ªå‰ç«¯åº”ç”¨éœ€è¦å…±äº«ç»„ä»¶ï¼š

#### B1ï¼šæ¯ä¸ªåº”ç”¨ç‹¬ç«‹ç®¡ç†ï¼ˆæ¨èï¼‰

```bash
# æ¯ä¸ªåº”ç”¨éƒ½æœ‰è‡ªå·±çš„ shadcn ç»„ä»¶
apps/web/src/components/ui/
apps/admin/src/components/ui/
apps/mobile/src/components/ui/
```

**ä¼˜ç‚¹ï¼š**
- æ¯ä¸ªåº”ç”¨å¯ä»¥ç‹¬ç«‹å®šåˆ¶
- ä¸éœ€è¦æ„å»º
- æ›´æ–°ä¸å½±å“å…¶ä»–åº”ç”¨

**ç¼ºç‚¹ï¼š**
- ä»£ç é‡å¤ï¼ˆä½† shadcn æœ¬æ¥å°±æ˜¯è¿™æ ·è®¾è®¡çš„ï¼‰

#### B2ï¼šä½¿ç”¨æºç å…±äº«ï¼ˆæŠ˜ä¸­æ–¹æ¡ˆï¼‰

```
packages/ui/
  src/components/ui/  â† shadcn ç»„ä»¶æºç 
  src/custom/         â† ä½ çš„è‡ªå®šä¹‰ç»„ä»¶

apps/web/
  ç›´æ¥å¯¼å…¥ packages/ui çš„æºç ï¼Œä¸æ„å»º
```

é…ç½® Viteï¼š

```typescript
// apps/web/vite.config.ts
export default defineConfig({
  optimizeDeps: {
    // ä¸æ’é™¤ UI åŒ…ï¼Œè®© Vite ç›´æ¥å¤„ç†æºç 
    exclude: [],
  },
  resolve: {
    alias: {
      '@ui': resolve(__dirname, '../../packages/ui/src'),
    },
  },
})
```

ä½¿ç”¨ï¼š

```vue
<script setup>
// ç›´æ¥å¯¼å…¥æºç ï¼Œä¸éœ€è¦æ„å»º
import { Button } from '@ui/components/ui/button'
</script>
```

### æ–¹æ¡ˆ Cï¼šæ··åˆæ–¹æ¡ˆï¼ˆå®ç”¨ï¼‰

```
packages/ui/
  src/
    components/ui/     â† shadcn ç»„ä»¶ï¼ˆæºç ï¼Œä¸æ„å»ºï¼‰
    custom/            â† è‡ªå®šä¹‰ç»„ä»¶ï¼ˆå¯ä»¥æ„å»ºï¼‰
    theme/             â† ä¸»é¢˜ç³»ç»Ÿï¼ˆå¯ä»¥æ„å»ºï¼‰
```

åªæ„å»ºè‡ªå®šä¹‰éƒ¨åˆ†ï¼š

```typescript
// packages/ui/vite.config.ts
export default defineConfig({
  build: {
    lib: {
      entry: {
        custom: 'src/custom/index.ts',  // åªæ„å»ºè‡ªå®šä¹‰ç»„ä»¶
        theme: 'src/theme/index.ts',    // åªæ„å»ºä¸»é¢˜
      },
    },
  },
})
```

## è¿ç§»æ­¥éª¤

### ä»å½“å‰çŠ¶æ€è¿ç§»åˆ°æ–¹æ¡ˆ A

```bash
# 1. åœ¨ Web åº”ç”¨ä¸­åˆå§‹åŒ– shadcn
cd apps/web
npx shadcn-vue@latest init

# 2. å¤åˆ¶ä½ å·²ç»å®šåˆ¶çš„ç»„ä»¶
cp -r ../../packages/ui/src/components/ui/* src/components/ui/

# 3. åˆ é™¤æˆ–é‡æ„ packages/ui
cd ../../packages/ui
# é€‰æ‹©ï¼šå®Œå…¨åˆ é™¤æˆ–åªä¿ç•™è‡ªå®šä¹‰ç»„ä»¶

# 4. æ›´æ–°å¯¼å…¥è·¯å¾„
# ä»: import { Button } from '@juanie/ui'
# åˆ°: import { Button } from '@/components/ui/button'

# 5. åˆ é™¤ UI åŒ…çš„æ„å»ºæ­¥éª¤
# ä¸å†éœ€è¦ bun run ui:build
```

### ä»å½“å‰çŠ¶æ€è¿ç§»åˆ°æ–¹æ¡ˆ B2

```bash
# 1. åœæ­¢æ„å»º UI åŒ…
# åˆ é™¤ packages/ui çš„ build è„šæœ¬

# 2. é…ç½® Web åº”ç”¨ç›´æ¥ä½¿ç”¨æºç 
# ä¿®æ”¹ apps/web/vite.config.tsï¼ˆè§ä¸Šæ–‡ï¼‰

# 3. æ›´æ–°å¯¼å…¥æ–¹å¼
# ä»: import { Button } from '@juanie/ui'
# åˆ°: import { Button } from '@ui/components/ui/button'

# 4. åˆ é™¤ dist ç›®å½•
rm -rf packages/ui/dist
```

## æ€§èƒ½å¯¹æ¯”

| æ–¹æ¡ˆ | æ„å»ºæ—¶é—´ | HMR é€Ÿåº¦ | å®šåˆ¶æ€§ | ç»´æŠ¤æ€§ |
|------|----------|----------|--------|--------|
| å½“å‰ï¼ˆæ‰“åŒ…ï¼‰ | 5-10åˆ†é’Ÿ | æ…¢ | ä½ | éš¾ |
| æ–¹æ¡ˆ Aï¼ˆåº”ç”¨å†…ï¼‰ | 0ç§’ | æå¿« | é«˜ | æ˜“ |
| æ–¹æ¡ˆ B2ï¼ˆæºç å…±äº«ï¼‰ | 0ç§’ | å¿« | é«˜ | ä¸­ |
| æ–¹æ¡ˆ Cï¼ˆæ··åˆï¼‰ | 30ç§’ | å¿« | é«˜ | ä¸­ |

## å¸¸è§é—®é¢˜

### Q: ä¸æ‰“åŒ…ä¼šå½±å“ç”Ÿäº§æ„å»ºå—ï¼Ÿ

A: ä¸ä¼šã€‚Vite åœ¨ç”Ÿäº§æ„å»ºæ—¶ä¼šè‡ªåŠ¨ä¼˜åŒ–å’Œæ‰“åŒ…æ‰€æœ‰ä»£ç ã€‚

### Q: å¤šä¸ªåº”ç”¨å¦‚ä½•ä¿æŒç»„ä»¶ä¸€è‡´ï¼Ÿ

A: 
- ä½¿ç”¨æ–¹æ¡ˆ B2ï¼ˆæºç å…±äº«ï¼‰
- æˆ–è€…ä½¿ç”¨ Git submodule
- æˆ–è€…æ¥å—ä»£ç é‡å¤ï¼ˆshadcn çš„ç†å¿µï¼‰

### Q: å¦‚ä½•æ›´æ–° shadcn ç»„ä»¶ï¼Ÿ

A: 
```bash
# é‡æ–°æ·»åŠ ç»„ä»¶ä¼šè¦†ç›–
npx shadcn-vue@latest add button --overwrite

# æˆ–è€…æ‰‹åŠ¨å¯¹æ¯”æ›´æ–°
```

### Q: è‡ªå®šä¹‰ç»„ä»¶æ€ä¹ˆåŠï¼Ÿ

A: 
- æ”¾åœ¨å•ç‹¬çš„ç›®å½•ï¼ˆå¦‚ `src/custom/`ï¼‰
- å¯ä»¥é€‰æ‹©æ„å»ºæˆ–ä¸æ„å»º
- å»ºè®®ä¹Ÿä¸æ„å»ºï¼Œä¿æŒä¸€è‡´æ€§

## æ¨èæ–¹æ¡ˆ

æ ¹æ®ä½ çš„æƒ…å†µï¼Œæˆ‘æ¨èï¼š

**çŸ­æœŸï¼ˆç«‹å³ï¼‰ï¼šæ–¹æ¡ˆ B2**
- åœæ­¢æ„å»º UI åŒ…
- ç›´æ¥ä½¿ç”¨æºç 
- è§£å†³å¡æ­»é—®é¢˜

**é•¿æœŸï¼ˆé‡æ„ï¼‰ï¼šæ–¹æ¡ˆ A**
- æŠŠ shadcn ç»„ä»¶ç§»åˆ° Web åº”ç”¨
- å®Œå…¨ç¬¦åˆ shadcn ç†å¿µ
- æœ€ä½³å¼€å‘ä½“éªŒ

## å‚è€ƒèµ„æº

- [shadcn-vue å®˜æ–¹æ–‡æ¡£](https://www.shadcn-vue.com/)
- [ä¸ºä»€ä¹ˆä¸æ˜¯ npm åŒ…ï¼Ÿ](https://www.shadcn-vue.com/docs/introduction#why-copy-paste-and-not-packaged-as-a-dependency)
- [shadcn-vue GitHub](https://github.com/radix-vue/shadcn-vue)

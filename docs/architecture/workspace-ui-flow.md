# 工作空间 UI 交互流程

## 🎨 视觉设计

### 顶部导航栏

```
┌────────────────────────────────────────────────────────────┐
│  [👤 张三 ▼]  项目  环境  部署  设置  帮助        [🔔] [⚙️] │
│   └─────┘                                                  │
│     工作空间切换器                                          │
└────────────────────────────────────────────────────────────┘
```

### 工作空间切换器展开

```
┌─────────────────────────────┐
│ 个人工作空间                 │
│ ├─ 👤 我的工作空间 ✓         │
│                             │
│ 组织工作空间                 │
│ ├─ 🏢 Acme Corp            │
│ ├─ 🏢 Tech Startup         │
│ └─ 🏢 Open Source Org      │
│                             │
│ ─────────────────────       │
│ ➕ 创建组织                  │
│ 👥 加入组织                  │
└─────────────────────────────┘
```

## 📱 完整用户流程

### 流程 1: 个人开发者

```
步骤 1: 登录
┌─────────────────────────────────────┐
│ 欢迎回来，张三！                     │
│                                     │
│ 你现在在: 👤 个人工作空间            │
│                                     │
│ [开始创建项目]                       │
└─────────────────────────────────────┘

步骤 2: 创建项目
┌─────────────────────────────────────┐
│ 创建新项目                           │
│                                     │
│ 项目名称: my-app                     │
│ 模板: Next.js 15                    │
│                                     │
│ ℹ️ 当前工作空间                      │
│ 个人工作空间 - 使用你的个人账户       │
│ 推荐使用: OAuth 认证 ⭐              │
│                                     │
│ [使用 GitHub 授权] ← 一键完成        │
└─────────────────────────────────────┘

步骤 3: 授权完成
┌─────────────────────────────────────┐
│ ✅ 项目创建成功！                    │
│                                     │
│ my-app 已经配置完成                  │
│ 使用 OAuth 认证                      │
│                                     │
│ [查看项目]                           │
└─────────────────────────────────────┘
```

### 流程 2: 团队成员

```
步骤 1: 切换工作空间
┌─────────────────────────────────────┐
│ [👤 张三 ▼] ← 点击                   │
│                                     │
│ 选择: 🏢 Acme Corp                  │
└─────────────────────────────────────┘

步骤 2: 创建项目
┌─────────────────────────────────────┐
│ 创建新项目                           │
│                                     │
│ 项目名称: company-website            │
│ 模板: Next.js 15                    │
│                                     │
│ ℹ️ 当前工作空间                      │
│ Acme Corp - 组织工作空间             │
│ 推荐使用: GitHub App ⭐              │
│ 原因: 组织级别权限控制，最佳安全性    │
│                                     │
│ [配置 GitHub App]                   │
└─────────────────────────────────────┘

步骤 3: 配置 GitHub App
┌─────────────────────────────────────┐
│ GitHub App 认证                      │
│                                     │
│ App ID: [123456]                    │
│ Installation ID: [789012]           │
│ Private Key: [上传文件]              │
│                                     │
│ ℹ️ 需要先在 GitHub 组织中创建 App    │
│                                     │
│ [保存配置]                           │
└─────────────────────────────────────┘
```

## 🎯 关键交互点

### 1. 工作空间上下文始终可见

```
任何页面都显示当前工作空间:

┌────────────────────────────────────┐
│ [🏢 Acme Corp ▼]  项目列表          │
│                                    │
│ 📁 company-website                 │
│ 📁 marketing-site                  │
│ 📁 internal-tools                  │
└────────────────────────────────────┘
```

### 2. 智能提示

```
在个人工作空间创建项目:
┌────────────────────────────────────┐
│ 💡 提示                             │
│                                    │
│ 你正在个人工作空间创建项目           │
│ 将使用你的个人 GitHub 账户           │
│                                    │
│ 如果这是团队项目，建议切换到组织     │
│ [切换到组织] [继续]                 │
└────────────────────────────────────┘
```

### 3. 状态反馈

```
切换工作空间后:
┌────────────────────────────────────┐
│ ✅ 工作空间已切换                   │
│                                    │
│ 当前: Acme Corp                    │
│ 项目列表已更新                      │
└────────────────────────────────────┘
```

## 📊 信息架构

```
应用层级:
├─ 全局导航
│  ├─ 工作空间切换器 ← 最重要
│  ├─ 项目列表
│  └─ 设置
│
├─ 工作空间层级
│  ├─ 个人工作空间
│  │  ├─ 我的项目
│  │  └─ 个人设置
│  │
│  └─ 组织工作空间
│     ├─ 组织项目
│     ├─ 成员管理
│     └─ 组织设置
│
└─ 项目层级
   ├─ 项目详情
   ├─ Git 认证 ← 自动根据工作空间配置
   └─ 部署管理
```

## 🎨 视觉层级

### 优先级 1: 工作空间上下文
```
始终在顶部导航栏显示
使用醒目的图标和文字
```

### 优先级 2: 推荐认证方式
```
使用卡片高亮显示
添加 "推荐" 标签
说明推荐原因
```

### 优先级 3: 其他选项
```
折叠在 "查看其他方式" 下
降低视觉权重
```

## 💡 设计原则

### 1. 上下文优先
```
用户始终知道:
- 我在哪里工作？（个人/组织）
- 我在做什么？（创建项目/配置认证）
- 系统推荐什么？（最佳认证方式）
```

### 2. 渐进式披露
```
第一层: 工作空间选择
第二层: 推荐认证方式
第三层: 其他可选方式
```

### 3. 智能默认
```
- 新用户 → 个人工作空间
- 个人工作空间 → OAuth 认证
- 组织工作空间 → GitHub App / Group Token
```

## 🎉 用户反馈

### 场景 1: 首次使用
```
"太简单了！我只是选了个人工作空间，
然后点了一下授权，就配置好了。"
```

### 场景 2: 团队协作
```
"切换到公司的组织后，系统自动推荐了
GitHub App，我按照提示配置就行了。"
```

### 场景 3: 多工作空间
```
"我可以在个人项目和公司项目之间快速切换，
每个都有自己的认证配置，很清晰。"
```

## 🚀 总结

**核心设计理念**:
1. **工作空间优先** - 用户先选择在哪里工作
2. **智能推荐** - 系统自动推荐最佳方式
3. **上下文清晰** - 始终显示当前状态
4. **操作简单** - 最少的点击次数

**用户体验**:
- 个人开发者: 2 次点击完成
- 团队成员: 切换工作空间 + 填写配置
- 多工作空间: 一键切换

**简洁、智能、现代化！** 🎨
